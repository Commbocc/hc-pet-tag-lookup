var v=Object.defineProperty;var w=(n,e,r)=>e in n?v(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r;var d=(n,e,r)=>(w(n,typeof e!="symbol"?e+"":e,r),r);import{r as $,w as L,c as N,a as P,d as g,o as c,b as i,e as o,f as k,v as D,u as h,i as S,g as T,F as p,h as E,j as _,t as a,k as A,l as b,m as O}from"./vendor.33ee260d.js";const V=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const m of s.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function r(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(t){if(t.ep)return;t.ep=!0;const s=r(t);fetch(t.href,s)}};V();class x{constructor(e){d(this,"name");d(this,"type");d(this,"color");d(this,"breed");d(this,"owner");d(this,"microchip");d(this,"license");d(this,"vaccine");this.name=e.PetName,this.type=e.PetType,this.color=e.Color,this.breed=e.Breed,this.owner={name:e.OwnerName,phone:this.formatPhone(e.Phone)},this.microchip=e.tattoo,this.license={number:e.TagNumber,status:e.TagStatus,expiration:e.TagExpDate},this.vaccine={expiration:e.VacExpDate}}formatPhone(e){return e?e.replace(/\D+/g,"").replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3"):null}}const B="https://app.hillsboroughcounty.org/PetTagSearch/api/Animals",f=$("");L(f,()=>{u.data=null});const M=N(()=>`${B}/${f.value}`),u=P({loading:!1,error:"",data:null});async function y(){if(!!f.value){u.loading=!0;try{const n=await fetch(M.value).then(e=>e.json());u.data=n.map(e=>new x(e))}catch(n){u.error="An error occurred",console.warn(n)}finally{u.loading=!1}}}const C={class:"input-group"},j={class:"input-group input-group-lg"},F=o("button",{id:"submitButton",class:"btn btn-outline-secondary",type:"submit"}," Search ",-1),I=g({setup(n){return(e,r)=>(c(),i("form",{onSubmit:r[1]||(r[1]=T((...l)=>h(y)&&h(y)(...l),["prevent"]))},[o("div",C,[o("div",j,[k(o("input",{"onUpdate:modelValue":r[0]||(r[0]=l=>S(f)?f.value=l:null),class:"form-control",placeholder:"License or Microchip number...",minlength:"6",required:"","aria-label":"License or Microchip number","aria-describedby":"submitButton"},null,512),[[D,h(f)]]),F])])],32))}}),q={key:0,class:"d-flex justify-content-center"},R=o("div",{class:"spinner-border",role:"status"},[o("span",{class:"visually-hidden"},"Loading...")],-1),K=[R],U={key:1},z={class:"accordion",id:"accordion"},G={class:"accordion-item"},H=["id"],J=["data-bs-target","aria-controls"],Q={class:"text-nowrap"},W=A(" \xA0 "),X={class:"text-truncate"},Y=["id","aria-labelledby"],Z={class:"accordion-body"},ee=o("dt",null,"Owner(s)",-1),te=o("dt",null,"Contact",-1),oe=o("dt",null,"Microchip",-1),se=o("dt",null,"License",-1),ne=o("dt",null,"License Expiration",-1),re=o("dt",null,"Vaccine Expiration",-1),ce={key:2},ie=o("p",{class:"h2 text-center"},"No Results",-1),ae=[ie],le=g({setup(n){return(e,r)=>{var l;return h(u).loading?(c(),i("div",q,K)):(l=h(u).data)!=null&&l.length?(c(),i("div",U,[o("div",z,[(c(!0),i(p,null,E(h(u).data,(t,s)=>(c(),i("div",G,[o("h2",{class:"accordion-header",id:`heading${s}`},[o("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse${s}`,"aria-controls":`collapse${s}`},[o("strong",Q,a(t.name),1),W,o("small",X,a(t.type)+" - "+a(t.color)+" "+a(t.breed),1)],8,J)],8,H),o("div",{id:`collapse${s}`,class:"accordion-collapse collapse","aria-labelledby":`heading${s}`,"data-bs-parent":"#accordion"},[o("div",Z,[o("dl",null,[t.owner.name?(c(),i(p,{key:0},[ee,o("dd",null,a(t.owner.name),1)],64)):_("",!0),t.owner.phone?(c(),i(p,{key:1},[te,o("dd",null,a(t.owner.phone),1)],64)):_("",!0),t.microchip?(c(),i(p,{key:2},[oe,o("dd",null,a(t.microchip),1)],64)):_("",!0),se,o("dd",null,a(t.license.number),1),t.license.expiration?(c(),i(p,{key:3},[ne,o("dd",null,a(new Date(t.license.expiration).toLocaleDateString()),1)],64)):_("",!0),t.vaccine.expiration?(c(),i(p,{key:4},[re,o("dd",null,a(new Date(t.vaccine.expiration).toLocaleDateString()),1)],64)):_("",!0)])])],8,Y)]))),256))])])):h(u).data!==null?(c(),i("div",ce,ae)):_("",!0)}}}),de=g({setup(n){return(e,r)=>(c(),i(p,null,[b(I),b(le,{class:"mt-3"})],64))}});O(de).mount("#app");
