var v=Object.defineProperty;var w=(r,e,n)=>e in r?v(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var i=(r,e,n)=>(w(r,typeof e!="symbol"?e+"":e,n),n);import{r as $,w as N,c as P,a as L,d as f,o as l,b as d,e as t,f as T,v as D,u as h,i as E,g as S,F as m,h as k,j as b,t as c,k as A,l as g,m as O}from"./vendor.33ee260d.js";const V=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))p(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&p(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function p(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}};V();class B{constructor(e){i(this,"name");i(this,"type");i(this,"color");i(this,"breed");i(this,"owner");i(this,"microchip");i(this,"license");i(this,"vaccine");this.name=e.PetName,this.type=e.PetType,this.color=e.Color,this.breed=e.Breed,this.owner={name:e.OwnerName,phone:this.formatPhone(e.Phone)},this.microchip=e.tattoo,this.license={number:e.TagNumber,status:e.TagStatus,expiration:new Date(e.TagExpDate)},this.vaccine={expiration:new Date(e.VacExpDate)}}formatPhone(e){return parseInt(e.replace(/\D+/g,""))}}const M="https://app.hillsboroughcounty.org/PetTagSearch/api/Animals",_=$("");N(_,()=>{u.data=null});const x=P(()=>`${M}/${_.value}`),u=L({loading:!1,error:"",data:null});async function y(){if(!!_.value){u.loading=!0;try{const r=await fetch(x.value).then(e=>e.json());u.data=r.map(e=>new B(e))}catch(r){u.error="An error occurred",console.warn(r)}finally{u.loading=!1}}}const C={class:"input-group"},I={class:"input-group input-group-lg"},j=t("button",{id:"submitButton",class:"btn btn-primary",type:"submit"}," Search ",-1),F=f({setup(r){return(e,n)=>(l(),d("form",{onSubmit:n[1]||(n[1]=S((...p)=>h(y)&&h(y)(...p),["prevent"]))},[t("div",C,[t("div",I,[T(t("input",{"onUpdate:modelValue":n[0]||(n[0]=p=>E(_)?_.value=p:null),class:"form-control",placeholder:"License or Microchip number...",minlength:"6",required:"","aria-label":"License or Microchip number","aria-describedby":"submitButton"},null,512),[[D,h(_)]]),j])])],32))}}),q={class:"mt-3"},R={key:0,class:"d-flex justify-content-center"},K=t("div",{class:"spinner-border",role:"status"},[t("span",{class:"visually-hidden"},"Loading...")],-1),U=[K],z={key:1},G={class:"accordion",id:"accordion"},H={class:"accordion-item"},J=["id"],Q=["data-bs-target","aria-controls"],W={class:"text-nowrap"},X=A(" \xA0 "),Y={class:"text-truncate"},Z=["id","aria-labelledby"],ee={class:"accordion-body"},te=t("dt",null,"Owner(s)",-1),oe=t("dt",null,"Contact",-1),se=t("dt",null,"Microchip",-1),ne=t("dt",null,"License",-1),re=t("dt",null,"License Expiration",-1),ce=t("dt",null,"Vaccine Expiration",-1),ae={key:2},ie=t("p",{class:"h2 text-center"},"No Results",-1),le=[ie],de=f({setup(r){const e=n=>n.toString().replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3");return(n,p)=>{var s;return l(),d("section",q,[h(u).loading?(l(),d("div",R,U)):(s=h(u).data)!=null&&s.length?(l(),d("div",z,[t("div",G,[(l(!0),d(m,null,k(h(u).data,(o,a)=>(l(),d("div",H,[t("h2",{class:"accordion-header",id:`heading${a}`},[t("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse${a}`,"aria-controls":`collapse${a}`},[t("strong",W,c(o.name),1),X,t("small",Y,c(o.type)+" - "+c(o.color)+" "+c(o.breed),1)],8,Q)],8,J),t("div",{id:`collapse${a}`,class:"accordion-collapse collapse","aria-labelledby":`heading${a}`,"data-bs-parent":"#accordion"},[t("div",ee,[t("dl",null,[te,t("dd",null,c(o.owner.name),1),oe,t("dd",null,c(e(o.owner.phone)),1),o.microchip?(l(),d(m,{key:0},[se,t("dd",null,c(o.microchip),1)],64)):b("",!0),ne,t("dd",null,c(o.license.number),1),re,t("dd",null,c(o.license.expiration),1),ce,t("dd",null,c(o.vaccine.expiration),1)])])],8,Z)]))),256))])])):h(u).data!==null?(l(),d("div",ae,le)):b("",!0)])}}}),ue=f({setup(r){return(e,n)=>(l(),d(m,null,[g(F),g(de)],64))}});O(ue).mount("#app");
